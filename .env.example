# Dhan API (required for generate_ai_prompt.rb)
# The gem reads CLIENT_ID and ACCESS_TOKEN; we set them from DHAN_* if present.
DHAN_CLIENT_ID=...
DHAN_ACCESS_TOKEN=...

# Mock: use fake market data (no Dhan API); AI still runs if AI_PROVIDER set
# MOCK_DATA=1

# Optional: one index (overrides UNDERLYINGS)
# UNDERLYING=NIFTY
# Optional: comma-separated list (default: NIFTY,SENSEX)
# UNDERLYINGS=NIFTY,SENSEX

# Optional: run analysis in a loop every N seconds (e.g. 300 = 5 minutes)
LOOP_INTERVAL=300

# Optional: get AI analysis in the same run (openai | ollama)
AI_PROVIDER=ollama
# AI_MODEL=

# OpenAI (required when AI_PROVIDER=openai)
# OPENAI_API_KEY=sk-...
# OPENAI_MODEL=gpt-4o

# Ollama (used when AI_PROVIDER=ollama; via ollama-client gem)
# OLLAMA_HOST=http://localhost:11434
# OLLAMA_MODEL=llama3
# OLLAMA_TIMEOUT=60

# Telegram (optional; same pattern as algo_trading_api â€” send analysis after each symbol)
# TELEGRAM_BOT_TOKEN=...
# TELEGRAM_CHAT_ID=...

# Pattern engine candles: source csv | dhan | delta (run_pattern_engine.rb)
# When CANDLE_SOURCE=dhan: PATTERN_SECURITY_ID required (e.g. 1333 for RELIANCE; NIFTY index: use Dhan instrument master).
# When CANDLE_SOURCE=delta: PATTERN_SYMBOL = product symbol (e.g. BTCUSD). No auth needed for candles.
# CANDLE_SOURCE=
# PATTERN_SYMBOL=index
# PATTERN_SECURITY_ID=1333
# PATTERN_EXCHANGE_SEGMENT=NSE_EQ
# PATTERN_INSTRUMENT=EQUITY

# Delta Exchange (optional; for lib/delta/ and run_delta_live.rb)
# Production India: https://api.india.delta.exchange
# Testnet India: https://cdn-ind.testnet.deltaex.org
# DELTA_API_KEY=...
# DELTA_API_SECRET=...
# DELTA_BASE_URL=https://api.india.delta.exchange
# DELTA_SYMBOLS=BTCUSD,ETHUSD  (default if unset)
# DELTA_RESOLUTION=5m          (candle: 1m, 5m, 15m, 1h, etc.)
# DELTA_LOOKBACK_MINUTES=120   (default 2h so SMA(20)/RSI(14)/ATR(14) have enough 5m candles)
# DELTA_HTF_LOOKBACK_HOURS=24  (1h candles for HTF trend/structure; default 24)
# DELTA_LOG_ACTIONS=1          (log suggestions to log/delta_ai_actions.jsonl; set 0 to disable)
# DELTA_LOG_PIPELINE=1        (log pipeline stage inputs/outputs to log/delta_pipeline.jsonl; set 0 to disable)
# LIVE_TRADING=0               (set 1 to allow execution agent to place real orders; default 0 = dry-run)
# DELTA_MAX_POSITION_USD=500   (max notional per trade when live; required for sizing)
# DELTA_OLLAMA_RISK=0          (set 1 to ask Ollama for volatility-adjusted size fraction)
# DELTA_AI_TIMEOUT=25          (seconds for AI call; fallback to No trade on timeout; default 25)
